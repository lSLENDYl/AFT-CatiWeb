import requests
from pprint import pprint
from openai import OpenAI

client = OpenAI(
    api_key="sk-tfFJUW6ns45XWgBD9IAKpdhPUkSVcDHb",
    base_url="https://api.proxyapi.ru/openai/v1",
)


msg = 'В случае внесения изменений в запись акта гражданского состояния на основании медицинского заключения врачебной комиссии медицинской организации подведомственной федеральному органу исполнительной власти, осуществляющему функции по выработке и реализации государственной политики и нормативно-правовому регулированию в сфере здравоохранения, о соответствии половых признаков признакам определённого пола, выданного в соответствии с частью 2 статьи 45.1 Федерального закона "Об основах охраны здоровья граждан в Российской Федерации” - копия заключения органа, осуществляющего государственную регистрацию актов гражданского состояния на территории Российской Федерации, о внесении исправления или изменения в запись акта гражданского состояния.'

response = client.responses.create(
    model="gpt-3.5-turbo",
    input=f"""Задача:
                    Найди в тексте сложные слова и формулировки, которые тяжело воспринимаются людьми со средним школьным образованиям, и переведи эти слова и формулировки из сложного языка в простой.
                    Простой язык — адаптированный национальный язык для более массовой аудитории, людей со средним школьным образованием. Такой формат текстов используется для коммуникации всех со всеми на любые темы.
                    По сути, простой язык - это пересказ на «человеческом» языке сложного для восприятия материала, без сложных терминов и лишней информации. Основной массе населения без нарушений интеллекта, развития и психики для комфортной жизни достаточно простого языка. Информация на нём не требует дополнительной интерпретации и специальных знаний: все термины и новые понятия сразу расшифровываются и уточняются. В итоге люди быстро воспринимают текст и могут сразу же использовать полученные сведения на практике.
                    Вот пример, как могут заменяться слова и формулировки в сложном тексте и простом тексте:
                    Сложный текст: Банковская карта (карта) — платёжная карта, выпущенная банком, которая является персонализированным средством, предназначенным для оплаты товаров, услуг и получения наличных денежных средств на территории России и за рубежом. В последнее время банки и другие финансовые организации предлагают разные digital-продукты, у каждого из которых свой функционал: электронные деньги, виртуальные и цифровые платёжные носители. Цифровые карты действительно обладают теми же возможностями, что и пластиковые. В отличие от них, виртуальные создаются преимущественно для безопасных покупок в интернете. В случае с дебетовой картой клиент самостоятельно вносит деньги на свой банковский счёт. Самое важное отличие кредитной карты от дебетовой заключается в том, что на карте находятся денежные средства, принадлежащие банку и предоставленные вам в качестве возобновляемой кредитной линии на определённых условиях и на конкретный срок. Вы можете оплачивать ими любые покупки и услуги в магазинах или в интернете в пределах выделенного вам лимита, а потом возвращать средства на счёт карты и снова пользоваться денежными средствами банка. Льготный период не распространяется на снятие наличных, и за эту операцию банк, как правило, взимает комиссию.
                    Простой текст: Банковская карта — это пластиковая карта, с помощью которой можно оплачивать покупки в магазинах, снимать наличные, пополнять счёт в банке, переводить деньги друзьям и совершать другие операции с деньгами. Ещё есть виртуальные карты. Ими можно пользоваться только с помощью приложений на телефоне: на руки банк их не выдает. Виртуальной картой можно оплачивать покупки в интернете. Карты могут быть дебетовые или кредитные. На дебетовой карте хранятся ваши личные деньги. На кредитной карте хранятся деньги банка, которые вы можете взять в долг. Но через некоторое время деньги надо будет вернуть банку.
    
                    Формат вывода данных:
                    слово или формулировка → упрощение
                    слово или формулировка → упрощение
                    слово или формулировка → упрощение
                    Итоговый текст, основаный на исходном тексте с заменой сложных слов на простые. При это смысл текста не должен изменяться.
                    Текст:
                    {msg}"""
)

# response = requests.post(url, headers=headers, json=data)
print(response.output_text)
# text = data['choices'][0]['message']['content']
# print(text.split('</think>\n\n')[1])
